{
  "users": {
    "name": "String (required)",
    "email": "String (required, unique)",
    "password": "String (required)",
    "role": "String (enum: student, staff, hod, dean, admin, default: student)",
    "previousRole": "String (optional)",
    "previousDepartment": "String (optional)",
    "previousWorkingPlace": "String (optional)",
    "isApproved": "Boolean (default: true for students/admins, false otherwise)",
    "isRejected": "Boolean (default: false)",
    "department": "String (required for student/staff/hod)",
    "workingPlace": "String (required for staff/hod/dean)",
    "phone": "String (optional)",
    "address": "String (optional)",
    "bio": "String (optional, max 500 chars)",
    "isVerified": "Boolean (default: false)",
    "approvedByDean": "Boolean (default: false)",
    "isActive": "Boolean (default: true for students/admins, false otherwise)",
    "avatarUrl": "String (optional)",
    "avatarPublicId": "String (optional)",
    "createdAt": "Date (auto)",
    "updatedAt": "Date (auto)"
  },
  "complaints": {
    "complaintCode": "String (unique, auto-generated)",
    "title": "String (required)",
    "category": "String (required)",
    "department": "String (optional)",
    "description": "String (max 10000 chars)",
    "status": "String (enum: Pending, Assigned, Accepted, In Progress, Under Review, Resolved, Closed, default: Pending)",
    "submittedBy": "ObjectId (ref: User, required)",
    "sourceRole": "String (enum: student, staff, dean, hod, admin, default: student)",
    "assignedByRole": "String (enum: student, hod, dean, admin, optional)",
    "assignedBy": "ObjectId (ref: User, optional)",
    "assignmentPath": "Array of Strings (enum: student, hod, dean, admin, staff)",
    "submittedTo": "String (optional)",
    "assignedTo": "ObjectId (ref: User, optional)",
    "feedback": {
      "rating": "Number",
      "comment": "String",
      "submittedAt": "Date",
      "reviewed": "Boolean (default: false)",
      "reviewedAt": "Date",
      "reviewedBy": "ObjectId (ref: User)"
    },
    "priority": "String (enum: Low, Medium, High, Critical, default: Medium)",
    "deadline": "Date (optional)",
    "isEscalated": "Boolean (default: false)",
    "escalatedOn": "Date (optional)",
    "assignedAt": "Date (optional)",
    "evidenceFile": "String (optional)",
    "resolutionNote": "String (optional)",
    "resolvedAt": "Date (optional)",
    "isDeleted": "Boolean (default: false)",
    "deletedAt": "Date (optional)",
    "deletedBy": "ObjectId (ref: User, optional)",
    "lastEditedAt": "Date (optional)",
    "editsCount": "Number (default: 0)",
    "recipientRole": "String (enum: staff, hod, dean, admin, null, optional)",
    "recipientId": "ObjectId (ref: User, optional)",
    "isAnonymous": "Boolean (default: false)",
    "createdAt": "Date (auto)",
    "updatedAt": "Date (auto)"
  },
  "categories": {
    "name": "String (required, unique)",
    "roles": "Array of Strings (enum: student, staff, hod, dean, admin)",
    "description": "String (optional)",
    "status": "String (enum: active, inactive, default: active)",
    "createdBy": "ObjectId (ref: User)",
    "createdAt": "Date (auto)",
    "updatedAt": "Date (auto)"
  },
  "notifications": {
    "user": "ObjectId (ref: User, required)",
    "complaint": "ObjectId (ref: Complaint, optional)",
    "role": "String (enum: student, staff, hod, dean, admin, optional)",
    "type": "String (enum: submission, assignment, accept, reject, status, feedback, user-signup, required)",
    "title": "String (required)",
    "message": "String (required)",
    "read": "Boolean (default: false)",
    "meta": "Object (default: {})",
    "createdAt": "Date (auto)",
    "updatedAt": "Date (auto)"
  },
  "activityLogs": {
    "user": "ObjectId (ref: User, required)",
    "role": "String (required)",
    "action": "String (required)",
    "complaint": "ObjectId (ref: Complaint, required)",
    "timestamp": "Date (default: now)",
    "details": "Object (default: {})"
  },
  "feedback": {
    "complaintId": "ObjectId (ref: Complaint, required)",
    "user": "ObjectId (ref: User, required)",
    "targetAdmin": "ObjectId (ref: User, optional)",
    "isAdminFeedback": "Boolean (default: false)",
    "rating": "Number (min: 1, max: 5, required)",
    "comments": "String (max 1000 chars)",
    "reviewStatus": "String (enum: Not Reviewed, Reviewed, default: Not Reviewed)",
    "reviewedAt": "Date (optional)",
    "reviewedBy": "ObjectId (ref: User, optional)",
    "archived": "Boolean (default: false)",
    "createdAt": "Date (auto)",
    "updatedAt": "Date (auto)"
  }
}
